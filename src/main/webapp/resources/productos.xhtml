<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:t="http://xmlns.jcp.org/jsf/passthrough">
<head>
      <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Productos</title>
	<!-- BOOTSTRAP STYLES-->
    <link href="assets/css/bootstrap.css" rel="stylesheet" />
     <!-- FONTAWESOME STYLES-->
    <link href="assets/css/font-awesome.css" rel="stylesheet" />
        <!-- CUSTOM STYLES-->
    <link href="assets/css/custom.css" rel="stylesheet" />
     <!-- GOOGLE FONTS-->
   <link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css' />
</head>
<body>
     
           
          
    <div id="wrapper">
         <div class="navbar navbar-inverse navbar-fixed-top">
            <div class="adjust-nav">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".sidebar-collapse">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="index.xhtml">
                        <img src="assets/img/logop.png" width="200" />
                    </a>
                </div>
              
                 <span class="logout-spn" >
                  <a href="#" style="color:#fff;">LOGOUT</a>  

                </span>
            </div>
        </div>
        <!-- /. NAV TOP  -->
        <nav class="navbar-default navbar-side" role="navigation">
            <div class="sidebar-collapse">
                <ul class="nav" id="main-menu">
                 
					<li ><a href="index.xhtml"><i
							class="fa fa-desktop "></i>Inicio</a>
					</li>


					<li><a href="usuarios.xhtml"><i class="fa fa-users"></i>Usuarios</a></li>
					<li><a href="productos.xhtml" class="active-link"><i class="fa fa-video-camera "></i>Peliculas</a></li>

					<li><a href="categorias.xhtml" ><i class="fa fa-ticket "></i>Categorias</a></li>
					
					<li><a href="reportes.xhtml"><i class="fa fa-dollar "></i>Reportes</a></li>
                </ul>
                            </div>

        </nav>
        <!-- /. NAV SIDE  -->
        <div id="page-wrapper" >
            <div id="page-inner">
                <div class="row">
                    <div class="col-md-12">
                    
                     <h2>Peliculas </h2> 
                    <div> <button class="btn btn-primary" data-toggle="modal"
						data-target="#mediumModal">
						<i class="fa fa-plus-circle">.</i> Nueva Pelicula
					</button> </div> 
					
					<div> <button class="btn btn-primary" data-toggle="modal"
						data-target="#mediumModalModificar">
						<i class="fa fa-plus-circle">.</i> Modificar Pelicula
					</button> </div> 
                     <h:form>
			
			
					
					
			<h:dataTable border="1" value="#{gestionTiendaBean.listarPeliculas(0)}" var="pelicula" class="table table-striped table-bordered table-hover"
			style = "">
				<h:column id="pel_id">
					<f:facet name="header">Pelicula ID</f:facet>
						#{pelicula.codigoPelicula} 
				</h:column>
				<h:column id="pel_nombre">
					<f:facet name="header">Nombre</f:facet>
						#{pelicula.nombre} 
				</h:column>
				<h:column id="pel_descripcion">
					<f:facet name="header">Descripcion</f:facet>
						#{pelicula.descripcion} 
				</h:column>
				<h:column id="usu_telefono">
					<f:facet name="header">Precio</f:facet>
					#{pelicula.precio} 
				</h:column>
				<h:column id="usu_email">
					<f:facet name="header">Anio</f:facet>
						#{pelicula.anio} 
				</h:column>
				<h:column id="usu_fnacimiento">
					<f:facet name="header">Stock</f:facet>
						 #{pelicula.stock} 
					
				</h:column>
				<h:column id="pel_fregistro">
					<f:facet name="header">Cantidad Votos</f:facet>
						#{pelicula.cantidadVotos}
				</h:column>
				<h:column id="pel_user">
					<f:facet name="header">Cantidad Ventas</f:facet>
						 #{pelicula.cantidadVentas} 
					
				</h:column> 
				<h:column>
				<f:facet name="header">Imagen</f:facet>
				<img src="#{pelicula.imagenHttp}"  width="50" height="100"/>
				</h:column>
				
				 
				<h:column id="pel_eliminar">
					<f:facet name="header">Eliminar</f:facet>
						<h:commandButton action="#{gestionTiendaBean.eliminarPelicula(pelicula.codigoPelicula)}" class="alert-danger" value="delete" />
					 
				</h:column>
				
			</h:dataTable>
		</h:form>
                    </div>
                </div>              
                 <!-- /. ROW  -->
                  <hr />
              
                 <!-- /. ROW  -->           
    </div>
             <!-- /. PAGE INNER  -->
            </div>
         <!-- /. PAGE WRAPPER  -->
        </div>
        
        
        
        
        
        <!-- Para crear Peliculas -->
					<!-- modal medium -->
					 
					
					<div class="modal fade" id="mediumModal" tabindex="-1"
						role="dialog" aria-labelledby="mediumModalLabel"
						aria-hidden="true">
						<div class="modal-dialog modal-lg" role="document">
							<div class="modal-content">
								<div class="modal-header">
									<h5 class="modal-title" id="mediumModalLabel">Crear
										Usuario</h5>
									<button type="button" class="close" data-dismiss="modal"
										aria-label="Close"></button>
								</div>
								<h:form>
								<div class="modal-body">


									 
									 
									 


		<h1>Crear Pelicula</h1>

	
			 
		
		<h:panelGrid columns="3">
			<h:outputLabel value="Nombre" for="nombre" style="width: 130px; text-align: center;"/>
			<h:inputText value="#{gestionTiendaBean.pelicula.nombre}" id="nombre" />
			<h:message for="nombre" />
		</h:panelGrid>
		<h:panelGrid columns="3">
			<h:outputLabel value="Descripcion" for="descripcion" style="width: 130px; text-align: center;"/>
			<h:inputTextarea value="#{gestionTiendaBean.pelicula.descripcion}" id="descripcion" />
			<h:message for="descripcion" />
		</h:panelGrid>
		<h:panelGrid columns="3">
			<h:outputLabel value="Precio" for="precio" style="width: 130px; text-align: center;"/>
			<h:inputText value="#{gestionTiendaBean.pelicula.precio}" id="precio" />
			<h:message for="precio" />
		</h:panelGrid>
		<h:panelGrid columns="3">
			<h:outputLabel value="Anio" for="anio" style="width: 130px; text-align: center;"/>
			<h:inputText value="#{gestionTiendaBean.pelicula.anio}" id="anio" />
			<h:message for="anio" />
		</h:panelGrid> 
		<h:panelGrid columns="3">
			<h:outputLabel value="Stock Disponible" for="stock" style="width: 130px; text-align: center;"/>
			<h:inputText value="#{gestionTiendaBean.pelicula.stock}" id="stock" />
			<h:message for="fregistro" />
		</h:panelGrid>  
		<h:panelGrid columns="3">
			<h:outputLabel value="Imagen" for="imagen" style="width: 130px; text-align: center;" />
			<h:inputText value="#{gestionTiendaBean.pelicula.imagenHttp}" id="imagen" />
			<h:message for="imagen" />
		</h:panelGrid>

									<h:panelGrid columns="3">
										<h:outputLabel value="Categoria" for="tipo" style="width: 130px; text-align: center;" /> 
										<h:selectOneMenu class="form-control" value="#{gestionTiendaBean.pelicula.idCategoria}" style="width: 130px; text-align: center;">
											<f:selectItems value="#{gestionTiendaBean.listarCategorias()}" 
											var="categoria" itemValue="#{categoria.idCategoria}" itemLabel="#{categoria.nombre}" style="width: 130px; text-align: center;" /> 
											</h:selectOneMenu>
											</h:panelGrid>
										
									 	
									 
									 
									 
									 
								</div>
								<div class="modal-footer">
									<button type="button" class="btn btn-secondary"
										data-dismiss="modal">Cancelar</button> 
										
								<h:commandButton class="btn btn-primary" action="#{gestionTiendaBean.crearPelicula(gestionTiendaBean.pelicula)}" value="Guardar" />
					
								</div>
								</h:form>
							</div>
						</div>
					</div>
					
					
					<!-- end modal medium -->

					<!-- Termina crear peliculas -->
        
        
        
        
        
        
         
        <!-- Para modificar Peliculas -->
					<!-- modal medium -->
					 
					
					<div class="modal fade" id="mediumModalModificar" tabindex="-1"
						role="dialog" aria-labelledby="mediumModalLabel"
						aria-hidden="true">
						<div class="modal-dialog modal-lg" role="document">
							<div class="modal-content">
								
								<div class="modal-header">
									<h5 class="modal-title" id="mediumModalLabel">Modificar Pelicula</h5>
									<button type="button" class="close" data-dismiss="modal"
										aria-label="Close"></button>
								</div>
								
								
								<div class="modal-body">


									 
									 
									 


		<h1>Modificar Pelicula</h1>

		<h:form>
										 
												<h:outputLabel value="Nombre Pelicula" for="pelinombre"  />
												<h:inputText class="form-control-success form-control"
													value="#{gestionTiendaBean.pelicula.nombre}" id="pelinombrebuscar" />
													<h:commandButton value=" Buscar" class="btn btn-primary"   action="#{gestionTiendaBean.buscarPelicula(gestionTiendaBean.pelicula.nombre)}">
						
					</h:commandButton>
					
													 
											 
										 
										 </h:form>
			 
		<h:form>
				<h:panelGrid columns="3">
			<h:outputLabel value="Id" for="nombre" style="width: 130px; text-align: center;"/>
			<h:inputText value="#{gestionTiendaBean.pelicula.codigoPelicula}" id="pelidremod" readonly="true"/>
			<h:message for="idpeli" />
		</h:panelGrid>
		
		<h:panelGrid columns="3">
			<h:outputLabel value="Nombre" for="nombre" style="width: 130px; text-align: center;"/>
			<h:inputText value="#{gestionTiendaBean.pelicula.nombre}" id="pelinombremod" />
			<h:message for="nombre" />
		</h:panelGrid>
		<h:panelGrid columns="3">
			<h:outputLabel value="Descripcion" for="descripcion" style="width: 130px; text-align: left;"/>
			<h:inputTextarea value="#{gestionTiendaBean.pelicula.descripcion}" id="descripcion" />
			<h:message for="descripcion" />
		</h:panelGrid>
		<h:panelGrid columns="3">
			<h:outputLabel value="Precio" for="precio" style="width: 130px; text-align: center;"/>
			<h:inputText value="#{gestionTiendaBean.pelicula.precio}" id="precio" />
			<h:message for="precio" />
		</h:panelGrid>
		<h:panelGrid columns="3">
			<h:outputLabel value="Anio" for="anio" style="width: 130px; text-align: center;"/>
			<h:inputText value="#{gestionTiendaBean.pelicula.anio}" id="anio" />
			<h:message for="anio" />
		</h:panelGrid> 
		<h:panelGrid columns="3">
			<h:outputLabel value="Stock Disponible" for="stock" style="width: 130px; text-align: center;"/>
			<h:inputText value="#{gestionTiendaBean.pelicula.stock}" id="stock" />
			<h:message for="fregistro" />
		</h:panelGrid>  
		<h:panelGrid columns="3">
			<h:outputLabel value="Imagen" for="imagen" style="width: 130px; text-align: center;" />
			<h:inputText value="#{gestionTiendaBean.pelicula.imagenHttp}" id="imagen" />
			<h:message for="imagen" />
		</h:panelGrid>

									<h:panelGrid columns="3">
										<h:outputLabel value="Categoria" for="tipo" style="width: 130px; text-align: center;" /> 
										<h:selectOneMenu class="form-control" value="#{gestionTiendaBean.pelicula.idCategoria}" style="width: 130px; text-align: center;">
											<f:selectItems value="#{gestionTiendaBean.listarCategorias()}" 
											var="categoria" itemValue="#{categoria.idCategoria}" itemLabel="#{categoria.nombre}" style="width: 130px; text-align: center;" /> 
											</h:selectOneMenu>
											</h:panelGrid>
										
									 	
									 
									 
									 
									 
								
								
								
								<div class="modal-footer">
									<button type="button" class="btn btn-secondary"
										data-dismiss="modal">Cancelar</button> 
										
								<h:commandButton class="btn btn-primary" action="#{gestionTiendaBean.updatePelicula(gestionTiendaBean.pelicula)}" value="Modificar" />
					
								</div>
								</h:form>
								</div>
							</div>
						</div>
					</div>
					
					
					<!-- end modal medium -->

					<!-- Termina Modificar Peliculas -->
        
        
        
        
        
        
        
        
        
        
        
        
        
        
    <div class="footer">

        </div>
          

     <!-- /. WRAPPER  -->
    <!-- SCRIPTS -AT THE BOTOM TO REDUCE THE LOAD TIME-->
    <!-- JQUERY SCRIPTS -->
    <script src="assets/js/jquery-1.10.2.js"></script>
      <!-- BOOTSTRAP SCRIPTS -->
    <script src="assets/js/bootstrap.min.js"></script>
      <!-- CUSTOM SCRIPTS -->
    <script src="assets/js/custom.js"></script>
    
   
</body>
</html>
