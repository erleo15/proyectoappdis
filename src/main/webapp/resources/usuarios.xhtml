<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:t="http://xmlns.jcp.org/jsf/passthrough">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Usuarios</title>
<!-- BOOTSTRAP STYLES-->
<link href="assets/css/bootstrap.css" rel="stylesheet" />
<!-- FONTAWESOME STYLES-->
<link href="assets/css/font-awesome.css" rel="stylesheet" />
<!-- CUSTOM STYLES-->
<link href="assets/css/custom.css" rel="stylesheet" />
<!-- GOOGLE FONTS-->
<link href='http://fonts.googleapis.com/css?family=Open+Sans'
	rel='stylesheet' type='text/css' />
</head>
<body>



	<div id="wrapper">
		<div class="navbar navbar-inverse navbar-fixed-top">
			<div class="adjust-nav">
				<div class="navbar-header">
					<button type="button" class="navbar-toggle" data-toggle="collapse"
						data-target=".sidebar-collapse">
						<span class="icon-bar"></span> <span class="icon-bar"></span> <span
							class="icon-bar"></span>
					</button>
					<a class="navbar-brand" href="index.xhtml"> <img
						src="assets/img/logop.png" width="200" />
					</a>

				</div>

				<span class="logout-spn"> <a href="#" style="color: #fff;">LOGOUT</a>

				</span>

			</div>



		</div>
		<!-- /. NAV TOP  -->
		<nav class="navbar-default navbar-side" role="navigation">
			<div class="sidebar-collapse">
				<ul class="nav" id="main-menu">

					<li><a href="index.xhtml"><i class="fa fa-desktop "></i>Inicio</a>
					</li>


					<li><a href="usuarios.xhtml" class="active-link"><i
							class="fa fa-users"></i>Usuarios</a></li>
					<li><a href="productos.xhtml"><i class="fa fa-video-camera "></i>Peliculas</a></li>
					<li><a href="categorias.xhtml" ><i class="fa fa-ticket "></i>Categorias</a></li>

					<li><a href="reportes.xhtml"><i class="fa fa-dollar "></i>Reportes</a></li>
				</ul>
			</div>

		</nav>
		<div id="page-wrapper">
			<div id="page-inner">
				<div class="row">
					<div class="col-lg-12">
						<h2>Usuarios</h2>
					</div>
				</div>

				<div>
					<button class="btn btn-primary" data-toggle="modal"
						data-target="#mediumModal">
						<i class="fa fa-plus-circle">.</i> Nuevo Usuario
					</button>
					
					<button class="btn btn-primary" data-toggle="modal"
						data-target="#mediumModalModificar">
						<i class="fa fa-edit">.</i> Modificar Usuario
					</button>
					
					
					

					<h:form>



						<h:dataTable border="1"
							value="#{gestionTiendaBean.listarUsuarios()}" var="usuario"
							class="table table-striped table-bordered table-hover">
							<h:column id="usu_cedula">
								<f:facet name="header">Cedula</f:facet>
						#{usuario.cedula} 
				</h:column>
							<h:column id="usu_nombre">
								<f:facet name="header">Nombre</f:facet>
						#{usuario.nombre} 
				</h:column>
							<h:column id="usu_apellido">
								<f:facet name="header">Apellido</f:facet>
						#{usuario.apellido} 
				</h:column>
							<h:column id="usu_telefono">
								<f:facet name="header">Telefono</f:facet>
					#{usuario.telefono} 
				</h:column>
							<h:column id="usu_email">
								<f:facet name="header">Correo</f:facet>
						#{usuario.email} 
				</h:column>

							<h:column id="usu_fregistro">
								<f:facet name="header">Fecha de Registro</f:facet>
						#{usuario.fechaRegistro}
				</h:column>

							<h:column id="usu_user">
								<f:facet name="header">NickName</f:facet>
						 #{usuario.user} 
					
				</h:column>
							<h:column id="usu_tipo">
								<f:facet name="header">Tipo
					</f:facet>
						#{usuario.tipoUsuario}
				</h:column>
							 
							<h:column id="usu_eliminar">

								<!--  <h:commandButton action="#{usuarioBean.eliminarUsuario(usuario.cedula)}" value="Eliminar usuario: #{usuario.user}" />
					 -->
								<h:commandButton action="#{gestionTiendaBean.eliminarUsuario(usuario.cedula)}" class="alert-danger" value="delete" > </h:commandButton>
							</h:column>
							
						</h:dataTable>
						
					</h:form>



					<!--termina las fechas -->
					<!-- Para crear Usuarios -->
					<!-- modal medium -->
					<h:form>
					
					<div class="modal fade" id="mediumModal" tabindex="-1"
						role="dialog" aria-labelledby="mediumModalLabel"
						aria-hidden="true">
						<div class="modal-dialog modal-lg" role="document">
							<div class="modal-content">
								<div class="modal-header">
									<h5 class="modal-title" id="mediumModalLabel">Crear
										Usuario</h5>
									<button type="button" class="close" data-dismiss="modal"
										aria-label="Close"></button>
								</div>
								<div class="modal-body">


									<h:panelGrid columns="3">
										<h:outputLabel value="Cedula" for="cedula"
											style="width: 130px; text-align: center;" />
										<h:inputText class="form-control"  onkeypress="if(event.which &lt; 48 || event.which &gt; 57 ) return false;"
											
											style="width: 400px; text-align: center;" a:placeholder="Ingrese la cedula"
											value="#{gestionTiendaBean.usuario.cedula}" id="cedula"  >
											
											</h:inputText>
										<h:message for="cedula" />
									</h:panelGrid>

									<h:panelGrid columns="3">
										<h:outputLabel value="Nombre" for="nombre"
											style="width: 130px; text-align: center;" />
										<h:inputText class="form-control"
											a:placeholder="Ingrese el nombre"
											style="width: 400px; text-align: center;"
											value="#{gestionTiendaBean.usuario.nombre}" id="nombre" />
										<h:message for="nombre" />
									</h:panelGrid>
									<h:panelGrid columns="3">
										<h:outputLabel value="Apellido" for="apellido"
											style="width: 130px;text-align: center;" />
										<h:inputText class="form-control"
											a:placeholder="Ingrese el Apellido"
											style="width: 400px; text-align: center;"
											value="#{gestionTiendaBean.usuario.apellido}" id="apellido" />
										<h:message for="apellido" />
									</h:panelGrid>
									<h:panelGrid columns="3">
										<h:outputLabel value="Telefono" for="telefono"
											style="width: 130px;text-align: center;" />
										<h:inputText class="form-control"
											style="width: 400px; text-align: center;" a:placeholder="Ingrese el Telefono" type="number"
											value="#{gestionTiendaBean.usuario.telefono}" id="telefono" />
										<h:message for="telefono" />
									</h:panelGrid>
									<h:panelGrid columns="3">
										<h:outputLabel value="Email" for="email" style="width: 130px;text-align: center;" />
										<h:inputText class="form-control" 
											style="width: 400px; text-align: center;"
											 a:placeholder="Ingrese el email"
											value="#{gestionTiendaBean.usuario.email}" id="email" />
										<h:message for="email" />
									</h:panelGrid>
									<h:panelGrid columns="3">
										<h:outputLabel value="Fecha Nacimiento"  for="fnacimiento"
											style="width: 130px;text-align: center;" />
										<!--  <h:inputText class="form-control" style="width: 400px; text-align: center;" a:placeholder="Ingrese la fecha de nacimiento" value="#{usuarioBean.usuario.fechaNacimiento}" id="fnacimiento"><f:convertDateTime pattern="dd/MM/yyyy"/></h:inputText>
			<h:message for="fnacimiento" /> -->

											<h:inputText t:type="date" value="#{gestionTiendaBean.usuario.fechaNacimiento}" id="fnac" class="form-control-success form-control"> 
                                    	    	<f:convertDateTime pattern="yyyy-MM-dd"/>
                                    	    </h:inputText>

										 
									</h:panelGrid>

									<h:panelGrid columns="3">
										<h:outputLabel value="Nickname" for="user"
											style="width: 130px;text-align: center;" />
										<h:inputText class="form-control"
											style="width: 400px; text-align: center;" 
											a:placeholder="Ingrese el NickName"
											value="#{gestionTiendaBean.usuario.user}" id="user" />
										<h:message for="user" />
									</h:panelGrid>
									<h:panelGrid columns="3">
										<h:outputLabel value="Contrasenia" for="contrasenia"
											style="width: 130px;text-align: center;" />
										<h:inputHidden></h:inputHidden>
										<h:inputSecret class="form-control"
											style="width: 400px; text-align: center;" 
											a:placeholder="Ingrese la contrasenia"
											value="#{gestionTiendaBean.usuario.contrasenia}" id="contrasenia" />
										<h:message for="contrasenia" />
									</h:panelGrid>
									<h:panelGrid columns="3">
										<h:outputLabel value="Direccion" for="direccion"
											style="width: 130px;text-align: center;" />
										<h:inputText class="form-control"
											style="width: 600px; text-align: center;" 
											a:placeholder="Ingrese la direccion" 
											value="#{gestionTiendaBean.usuario.direccionUsuario}"
											id="direccion" />
										<h:message for="direccion" />
									</h:panelGrid>
									<h:panelGrid columns="3">
										<h:outputLabel value="Tipo" for="tipo" style="width: 130px;text-align: center;" />
										<!--   <h:inputText style="width: 400px; text-align: center;" a:placeholder="Ingrese el tipo"
											class="form-control"
											value="#{usuarioBean.usuario.tipoUsuario}" id="tipo" />-->
										<h:selectOneMenu class="form-control" value="#{gestionTiendaBean.usuario.tipoUsuario}" >
											<f:selectItem itemValue="admin" itemLabel="admin" />
											<f:selectItem itemValue="user" itemLabel="user" /> 
										</h:selectOneMenu>
										<h:message for="tipo" />
									</h:panelGrid>
 
								</div>
								<div class="modal-footer">
									<button type="button" class="btn btn-secondary"
										data-dismiss="modal">Cancelar</button> 
										
								<h:commandButton class="btn btn-primary" action="#{gestionTiendaBean.crearUsuario()}" value="Guardarb" />
					
								</div>
							</div>
						</div>
					</div>
					
					</h:form>
					<!-- end modal medium -->

					<!-- Termina crear usuarios -->
					
					
					
					
					<!-- Para Modificar Usuarios -->
					
					
					<!-- modal medium -->
					
					
					
					
					<div class="modal fade" id="mediumModalModificar" tabindex="-1"
						role="dialog" aria-labelledby="mediumModalLabel"
						aria-hidden="true">
						<div class="modal-dialog modal-lg" role="document">
							<div class="modal-content">
								<div class="modal-header">
									<h5 class="modal-title" id="mediumModalLabelModificar">Modificar Usuario</h5>
									<button type="button" class="close" data-dismiss="modal"
										aria-label="Close"></button>
								</div>
								<div class="modal-body">
										
										
										
										<h:form>
										 
												<h:outputLabel value="Cedula" for="cedula"  />
												<h:inputText class="form-control-success form-control"
													value="#{gestionTiendaBean.usuario.cedula}" id="cedulabus" />
													<h:commandButton value=" Buscar" class="btn btn-primary"   action="#{gestionTiendaBean.buscarUsuario(gestionTiendaBean.usuario.cedula)}">
						
					</h:commandButton>
					
													 
											 
										 
										 </h:form>
										 
										 
									<h:form>	 
										 
										<h:panelGrid columns="3">
										<h:outputLabel value="Cedula" for="cedula"
											style="width: 130px;text-align: center;" />
										<h:inputText class="form-control" 
											value="#{gestionTiendaBean.usuario.cedula}" id="cedulamod" readonly="true"/>
										<h:message for="cedula" />
									</h:panelGrid>

									<h:panelGrid columns="3">
										<h:outputLabel value="Nombre" for="nombre"
											style="width: 130px;text-align: center;" />
										<h:inputText class="form-control" 
											value="#{gestionTiendaBean.usuario.nombre}" id="nombremod" 
											style="width: 250px; text-align: center;" />
										<h:message for="nombre" />
									</h:panelGrid>
									<h:panelGrid columns="3">
										<h:outputLabel value="Apellido" for="apellido"
											style="width: 130px;text-align: center;" />
										<h:inputText class="form-control" 
											value="#{gestionTiendaBean.usuario.apellido}" id="apellidomod" 
											style="width: 250px; text-align: center;" />
										<h:message for="apellido" />
									</h:panelGrid>
									<h:panelGrid columns="3">
										<h:outputLabel value="Telefono" for="telefono"
											style="width: 130px;text-align: center;" />
										<h:inputText class="form-control" 
										style="width: 250px; text-align: center;" 
											value="#{gestionTiendaBean.usuario.telefono}" id="telefonomod" />
										<h:message for="telefono" />
									</h:panelGrid>
									<h:panelGrid columns="3">
										<h:outputLabel value="Email" for="email" style="width: 130px;text-align: center;" />
										<h:inputText class="form-control" 
										style="width: 400px; text-align: center;" 
											value="#{gestionTiendaBean.usuario.email}" id="emailmod" />
										<h:message for="email" />
									</h:panelGrid>
									<h:panelGrid columns="3">
										<h:outputLabel value="Fecha Nacimiento"  for="fnacimiento"
											style="width: 130px;text-align: center;" /> 
											<h:inputText t:type="date"
											style="width: 250px; text-align: center;" 
											 value="#{gestionTiendaBean.usuario.fechaNacimiento}" id="fnacmod" class="form-control-success form-control"> 
                                    	    	<f:convertDateTime pattern="yyyy-MM-dd"/>
                                    	    </h:inputText>

										 
									</h:panelGrid>

									<h:panelGrid columns="3">
										<h:outputLabel value="Nickname" for="user"
											style="width: 130px;text-align: center;" />
										<h:inputText class="form-control" 
										style="width: 250px; text-align: center;" 
											value="#{gestionTiendaBean.usuario.user}" id="usermod" />
										<h:message for="user" />
									</h:panelGrid>
									 
									<h:panelGrid columns="3">
										<h:outputLabel value="Direccion" for="direccion"
											style="width: 130px;text-align: center;" />
										<h:inputText class="form-control"
											style="width: 600px; text-align: center;" 
										 value="#{gestionTiendaBean.usuario.direccionUsuario}"
											id="direccionmod" />
										<h:message for="direccion" />
									</h:panelGrid>
									<h:panelGrid columns="3">
										<h:outputLabel value="Tipo" for="tipo" style="width: 130px;text-align: center;" />
										<!--   <h:inputText style="width: 400px; text-align: center;" a:placeholder="Ingrese el tipo"
											class="form-control"
											value="#{usuarioBean.usuario.tipoUsuario}" id="tipo" />-->
										<h:selectOneMenu class="form-control" value="#{gestionTiendaBean.usuario.tipoUsuario}" >
											<f:selectItem itemValue="admin" itemLabel="admin" />
											<f:selectItem itemValue="user" itemLabel="user" /> 
										</h:selectOneMenu>
										<h:message for="tipo" />
									</h:panelGrid>
								<div class="modal-footer">
									<button type="button" class="btn btn-secondary"
										data-dismiss="modal">Cancelar</button> 
										
								<h:commandButton class="btn btn-primary" id="boton"  action="#{gestionTiendaBean.updateUsuario()}" value="Modificar" />
					
								</div>
								</h:form>
								</div>
							</div>
							
						</div>
						
					</div> 
					
					<!-- end modal medium -->

					<!-- Termina Modificar usuarios -->
						
						
						
					
					
					
					
					
				</div>
				<div class="row">
					<div class="col-lg-12 ">
						<div class="alert alert-info"></div>

					</div>


				</div>


			</div>

		</div>

		<!-- /. NAV SIDE  -->
		<div id="page-wrapper"></div>
		<!-- /. PAGE WRAPPER  -->

	</div>

	<div class="footer"></div> 


	<!-- /. WRAPPER  -->
	<!-- SCRIPTS -AT THE BOTOM TO REDUCE THE LOAD TIME-->
	<!-- JQUERY SCRIPTS -->
	<script src="assets/js/jquery-1.10.2.js"></script>
	<!-- BOOTSTRAP SCRIPTS -->
	<script src="assets/js/bootstrap.min.js"></script>
	<!-- CUSTOM SCRIPTS -->
	<script src="assets/js/custom.js"></script>
	




</body>
  
</html>
