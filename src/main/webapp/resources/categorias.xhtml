<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:t="http://xmlns.jcp.org/jsf/passthrough">
<h:head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Categorias</title>
<!-- BOOTSTRAP STYLES-->
<link href="assets/css/bootstrap.css" rel="stylesheet" />
<!-- FONTAWESOME STYLES-->
<link href="assets/css/font-awesome.css" rel="stylesheet" />
<!-- CUSTOM STYLES-->
<link href="assets/css/custom.css" rel="stylesheet" />
<!-- GOOGLE FONTS-->
<link href='http://fonts.googleapis.com/css?family=Open+Sans'
	rel='stylesheet' type='text/css' />
</h:head>
<body>



	<div id="wrapper">
		<div class="navbar navbar-inverse navbar-fixed-top">
			<div class="adjust-nav">
				<div class="navbar-header">
					<button type="button" class="navbar-toggle" data-toggle="collapse"
						data-target=".sidebar-collapse">
						<span class="icon-bar"></span> <span class="icon-bar"></span> <span
							class="icon-bar"></span>
					</button>
					<a class="navbar-brand" href="index.xhtml"> <img
						src="assets/img/logop.png" width="200" />
					</a>

				</div>

				<span class="logout-spn"> <a href="login.xhtml" style="color: #fff;">Cerrar Sesion</a>

				</span>

			</div>



		</div>
		<!-- /. NAV TOP  -->
		<nav class="navbar-default navbar-side" role="navigation">
			<div class="sidebar-collapse">
				<ul class="nav" id="main-menu">

					<li><a href="index.xhtml"><i class="fa fa-desktop "></i>Inicio</a>
					</li>


					<li><a href="usuarios.xhtml" ><i
							class="fa fa-users"></i>Usuarios</a></li>
					<li><a href="productos.xhtml"><i class="fa fa-video-camera "></i>Peliculas</a></li>
					<li><a href="categorias.xhtml" class="active-link" ><i class="fa fa-ticket "></i>Categorias</a></li>

					<li><a href="consultas.xhtml"><i class="fa fa-dollar "></i>Consultas</a></li>
				</ul>
			</div>

		</nav>
		<div id="page-wrapper">
			<div id="page-inner">
				<div class="row">
					<div class="col-lg-12">
						<h2>Categorias</h2>
					</div>
				</div>

				<div>
					<button class="btn btn-primary" data-toggle="modal"
						data-target="#mediumModal" onclick="#{gestionTiendaBean.limpiarCategoria()}">
						<i class="fa fa-plus-circle">.</i> Nueva Categoria
					</button>
					
					<button class="btn btn-primary" data-toggle="modal"
						data-target="#mediumModalModificar" onclick="#{gestionTiendaBean.limpiarCategoria()}">
						<i class="fa fa-edit">.</i> Modificar Categoria
					</button>
					
					
					

					<h:form>

			<h:dataTable border="1" value="#{gestionTiendaBean.listarCategorias()}" class="table-responsive" var="categoria">
				<h:column id="cat_id">
					<f:facet name="header">Categoria ID</f:facet>
						#{categoria.idCategoria} 
				</h:column>
				<h:column id="cat_nombre">
					<f:facet name="header">Nombre</f:facet>
						#{categoria.nombre} 
				</h:column>
				<h:column id="cat_descripcion">
					<f:facet name="header">Descripcion</f:facet>
						#{categoria.descripcion} 
				</h:column>
				 
				 
				<h:column id="cat_eliminar">
					
						<h:commandButton action="#{gestionTiendaBean.eliminarCategoria(categoria.idCategoria)}" class="alert-danger" value="delete" />
					 
				</h:column>
			</h:dataTable>
	
		</h:form>
	


					<!--termina las fechas -->
					<!-- Para crear Categorias -->
					<!-- modal medium -->
					<h:form>
					
					<div class="modal fade" id="mediumModal" tabindex="-1"
						role="dialog" aria-labelledby="mediumModalLabel"
						aria-hidden="true">
						<div class="modal-dialog modal-lg" role="document">
							<div class="modal-content">
								<div class="modal-header">
									<h5 class="modal-title" id="mediumModalLabel">Crear
										Categoria</h5>
									<button type="button" class="close" data-dismiss="modal"
										aria-label="Close"></button>
								</div>
								<div class="modal-body">


<h:panelGrid columns="3">
			<h:outputLabel value="Nombre" for="nombre" />
			<h:inputText value="#{gestionTiendaBean.categoria.nombre}" id="nombre" />
			<h:message for="nombre" />
		</h:panelGrid>
		<h:panelGrid columns="3">
			<h:outputLabel value="Descripcion" for="descripcion" />
			<h:inputText value="#{gestionTiendaBean.categoria.descripcion}" id="descripcion" />
			<h:message for="descripcion" />
		</h:panelGrid>
 
								</div>
								<div class="modal-footer">
									<button type="button" class="btn btn-secondary"
										data-dismiss="modal">Cancelar</button> 
										
								<h:commandButton class="btn btn-primary" action="#{gestionTiendaBean.crearCategoria(gestionTiendaBean.categoria)}" value="Guardar" />
					
								</div>
							</div>
						</div>
					</div>
					
					</h:form>
					<!-- end modal medium -->

					<!-- Termina crear usuarios -->
					
					
					
					
					<!-- Para Modificar Categorias -->
					
					
					<!-- modal medium -->
					
					
					
					
					<div class="modal fade" id="mediumModalModificar" tabindex="-1"
						role="dialog" aria-labelledby="mediumModalLabel"
						aria-hidden="true">
						<div class="modal-dialog modal-lg" role="document">
							<div class="modal-content">
								<div class="modal-header">
									<h5 class="modal-title" id="mediumModalLabelModificar">Modificar  Categoria</h5>
									<button type="button" class="close" data-dismiss="modal"
										aria-label="Close"></button>
								</div>
								<div class="modal-body">
										
										
										
										<h:form>
										 
												<h:outputLabel value="Nombre Categoria" for="categoria"  />
												<h:inputText class="form-control-success form-control"
													value="#{gestionTiendaBean.categoria.nombre}" id="catnombrebus" />
													<h:commandButton value="Buscar" class="btn btn-primary"   action="#{gestionTiendaBean.buscarCategoria(gestionTiendaBean.categoria.nombre)}">
						
						<f:ajax execute="catnombrebus" 
						render="idcatmod nombrecatmod descripcioncatmod" ></f:ajax>
					</h:commandButton>
					
													 
											 
										 	 
										 
										<h1>Modificar Categoria</h1>

	
		<h:panelGrid columns="3">
			<h:outputLabel value="Categoria ID" for="idcategoriamod" />
			<h:inputText value="#{gestionTiendaBean.categoria.idCategoria}" id="idcatmod"  readonly="true"/>
			<h:message for="idcategoriamod" />
		</h:panelGrid>
		
		<h:panelGrid columns="3">
			<h:outputLabel value="Nombre" for="nombre" />
			<h:inputText value="#{gestionTiendaBean.categoria.nombre}" id="nombrecatmod" />
			<h:message for="nombre" />
		</h:panelGrid>
		
		<h:panelGrid columns="3">
			<h:outputLabel value="Descripcion" for="descripcion" />
			<h:inputText value="#{gestionTiendaBean.categoria.descripcion}" id="descripcioncatmod" />
			<h:message for="descripcion" />
		</h:panelGrid>
								<div class="modal-footer">
									<button type="button" class="btn btn-secondary"
										data-dismiss="modal">Cancelar</button> 
										
								<h:commandButton class="btn btn-primary" id="botonmod"  action="#{gestionTiendaBean.updateCategoria(gestionTiendaBean.categoria)}" value="Modificar" />
					
								</div>
								</h:form>
								</div>
							</div>
							
						</div>
						
					</div> 
					
					<!-- end modal medium -->

					<!-- Termina Modificar usuarios -->
						
						
						
					
					
					
					
					
				</div>
				<div class="row">
					<div class="col-lg-12 ">
						<div class="alert alert-info"></div>

					</div>


				</div>


			</div>

		</div>

		<!-- /. NAV SIDE  -->
		<div id="page-wrapper"></div>
		<!-- /. PAGE WRAPPER  -->

	</div>

	<div class="footer"></div> 


	<!-- /. WRAPPER  -->
	<!-- SCRIPTS -AT THE BOTOM TO REDUCE THE LOAD TIME-->
	<!-- JQUERY SCRIPTS -->
	<script src="assets/js/jquery-1.10.2.js"></script>
	<!-- BOOTSTRAP SCRIPTS -->
	<script src="assets/js/bootstrap.min.js"></script>
	<!-- CUSTOM SCRIPTS -->
	<script src="assets/js/custom.js"></script>
	




</body>
  
  
  
  
</html>
